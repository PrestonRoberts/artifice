{"ast":null,"code":"import _defineProperty from\"C:/Users/rober/dev/artifice/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"C:/Users/rober/dev/artifice/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/rober/dev/artifice/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/rober/dev/artifice/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/rober/dev/artifice/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/rober/dev/artifice/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var DemonChat=/*#__PURE__*/function(_Component){_inherits(DemonChat,_Component);var _super=_createSuper(DemonChat);function DemonChat(props){var _this;_classCallCheck(this,DemonChat);_this=_super.call(this,props);_this.state={chatInput:'',msgError:''};_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));_this.handleChatMessage=_this.handleChatMessage.bind(_assertThisInitialized(_this));return _this;}_createClass(DemonChat,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var keyDownHandler=function keyDownHandler(event){if(event.key==='Enter'){event.preventDefault();_this2.handleChatMessage(_this2.props.demonChatMessage);}};document.addEventListener('keydown',keyDownHandler);return function(){document.removeEventListener('keydown',keyDownHandler);};}},{key:\"handleChatMessage\",value:function handleChatMessage(_demonChatMessage){var message=this.state.chatInput.trim();// check if message is empty\nif(message==='')return;_demonChatMessage(this.state.chatInput);this.setState({chatInput:''});}},{key:\"handleInputChange\",value:function handleInputChange(event){var target=event.target;var name=target.name;this.setState(_defineProperty({},name,target.value));}},{key:\"render\",value:function render(){var _this3=this;var chatMsgs=this.props.demonChatMsgs.map(function(data,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"demonChatMsg\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"chatUser\",children:[data.username,\": \"]}),data.message]},i);});return/*#__PURE__*/_jsxs(\"div\",{className:\"demonChat\",style:{visibility:this.props.visible,height:this.props.height},children:[/*#__PURE__*/_jsx(\"div\",{children:chatMsgs}),/*#__PURE__*/_jsxs(\"div\",{className:\"demonChatSend\",children:[this.props.phase==='night'?/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"chatInput\",value:this.state.chatInput,onChange:this.handleInputChange,autoComplete:\"off\",className:\"demonChatInput\"}):'',this.props.phase==='night'?/*#__PURE__*/_jsx(\"button\",{className:\"demonChatSubmit\",id:\"demonMsg\",onClick:function onClick(){return _this3.handleChatMessage(_this3.props.demonChatMessage);},children:\"Send\"}):'']})]});}}]);return DemonChat;}(Component);export default DemonChat;","map":{"version":3,"names":["React","Component","DemonChat","props","state","chatInput","msgError","handleInputChange","bind","handleChatMessage","keyDownHandler","event","key","preventDefault","demonChatMessage","document","addEventListener","removeEventListener","_demonChatMessage","message","trim","setState","target","name","value","chatMsgs","demonChatMsgs","map","data","i","username","visibility","visible","height","phase"],"sources":["C:/Users/rober/dev/artifice/client/src/components/demonChat.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass DemonChat extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            chatInput: '',\r\n            msgError: '',\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleChatMessage = this.handleChatMessage.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const keyDownHandler = event => {\r\n            if (event.key === 'Enter') {\r\n                event.preventDefault();\r\n                this.handleChatMessage(this.props.demonChatMessage)\r\n            }\r\n        };\r\n      \r\n            document.addEventListener('keydown', keyDownHandler);\r\n      \r\n        return () => {\r\n            document.removeEventListener('keydown', keyDownHandler);\r\n        };\r\n    }\r\n\r\n    handleChatMessage(_demonChatMessage) {\r\n        let message = this.state.chatInput.trim();\r\n\r\n        // check if message is empty\r\n        if(message === '') return;\r\n\r\n        _demonChatMessage(this.state.chatInput);\r\n        this.setState({\r\n            chatInput: ''\r\n        })\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const name = target.name;\r\n        this.setState({\r\n            [name]: target.value,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const chatMsgs = this.props.demonChatMsgs.map((data, i) =>\r\n            <div key={i} className='demonChatMsg'>\r\n                <span className='chatUser'>{data.username}: </span>{data.message}\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <div \r\n                className='demonChat' \r\n                style={{\r\n                    visibility: this.props.visible,\r\n                    height: this.props.height,\r\n                }}>\r\n                <div>\r\n                    {chatMsgs}\r\n                </div>\r\n                <div className='demonChatSend'>\r\n                    {this.props.phase === 'night' ? <input\r\n                        type='text' \r\n                        name=\"chatInput\"\r\n                        value={this.state.chatInput} \r\n                        onChange={this.handleInputChange}\r\n                        autoComplete=\"off\"\r\n                        className='demonChatInput'\r\n                    /> : '' }\r\n                    {this.props.phase === 'night' ? <button \r\n                                                        className='demonChatSubmit' \r\n                                                        id='demonMsg'\r\n                                                        onClick={() => this.handleChatMessage(this.props.demonChatMessage)}>Send</button> : ''}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DemonChat;"],"mappings":"ktBAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CAAC,2FAEnCC,UAAS,sGACX,mBAAYC,KAAK,CAAE,2CACf,uBAAMA,KAAK,EAEX,MAAKC,KAAK,CAAG,CACTC,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EACd,CAAC,CAED,MAAKC,iBAAiB,CAAG,MAAKA,iBAAiB,CAACC,IAAI,+BAAM,CAC1D,MAAKC,iBAAiB,CAAG,MAAKA,iBAAiB,CAACD,IAAI,+BAAM,CAAC,aAC/D,CAAC,uDAED,4BAAoB,iBAChB,GAAME,eAAc,CAAG,QAAjBA,eAAc,CAAGC,KAAK,CAAI,CAC5B,GAAIA,KAAK,CAACC,GAAG,GAAK,OAAO,CAAE,CACvBD,KAAK,CAACE,cAAc,EAAE,CACtB,MAAI,CAACJ,iBAAiB,CAAC,MAAI,CAACN,KAAK,CAACW,gBAAgB,CAAC,CACvD,CACJ,CAAC,CAEGC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAEN,cAAc,CAAC,CAExD,MAAO,WAAM,CACTK,QAAQ,CAACE,mBAAmB,CAAC,SAAS,CAAEP,cAAc,CAAC,CAC3D,CAAC,CACL,CAAC,iCAED,2BAAkBQ,iBAAiB,CAAE,CACjC,GAAIC,QAAO,CAAG,IAAI,CAACf,KAAK,CAACC,SAAS,CAACe,IAAI,EAAE,CAEzC;AACA,GAAGD,OAAO,GAAK,EAAE,CAAE,OAEnBD,iBAAiB,CAAC,IAAI,CAACd,KAAK,CAACC,SAAS,CAAC,CACvC,IAAI,CAACgB,QAAQ,CAAC,CACVhB,SAAS,CAAE,EACf,CAAC,CAAC,CACN,CAAC,iCAED,2BAAkBM,KAAK,CAAE,CACrB,GAAMW,OAAM,CAAGX,KAAK,CAACW,MAAM,CAC3B,GAAMC,KAAI,CAAGD,MAAM,CAACC,IAAI,CACxB,IAAI,CAACF,QAAQ,oBACRE,IAAI,CAAGD,MAAM,CAACE,KAAK,EACtB,CACN,CAAC,sBAED,iBAAS,iBACL,GAAMC,SAAQ,CAAG,IAAI,CAACtB,KAAK,CAACuB,aAAa,CAACC,GAAG,CAAC,SAACC,IAAI,CAAEC,CAAC,qBAClD,aAAa,SAAS,CAAC,cAAc,wBACjC,cAAM,SAAS,CAAC,UAAU,WAAED,IAAI,CAACE,QAAQ,QAAU,CAACF,IAAI,CAACT,OAAO,GAD1DU,CAAC,CAEL,GACT,CAED,mBACI,aACI,SAAS,CAAC,WAAW,CACrB,KAAK,CAAE,CACHE,UAAU,CAAE,IAAI,CAAC5B,KAAK,CAAC6B,OAAO,CAC9BC,MAAM,CAAE,IAAI,CAAC9B,KAAK,CAAC8B,MACvB,CAAE,wBACF,qBACKR,QAAQ,EACP,cACN,aAAK,SAAS,CAAC,eAAe,WACzB,IAAI,CAACtB,KAAK,CAAC+B,KAAK,GAAK,OAAO,cAAG,cAC5B,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,WAAW,CAChB,KAAK,CAAE,IAAI,CAAC9B,KAAK,CAACC,SAAU,CAC5B,QAAQ,CAAE,IAAI,CAACE,iBAAkB,CACjC,YAAY,CAAC,KAAK,CAClB,SAAS,CAAC,gBAAgB,EAC5B,CAAG,EAAE,CACN,IAAI,CAACJ,KAAK,CAAC+B,KAAK,GAAK,OAAO,cAAG,eACI,SAAS,CAAC,iBAAiB,CAC3B,EAAE,CAAC,UAAU,CACb,OAAO,CAAE,yBAAM,OAAI,CAACzB,iBAAiB,CAAC,MAAI,CAACN,KAAK,CAACW,gBAAgB,CAAC,EAAC,kBAAc,CAAG,EAAE,GACxH,GACJ,CAEd,CAAC,uBAjFmBb,SAAS,EAoFjC,cAAeC,UAAS"},"metadata":{},"sourceType":"module"}