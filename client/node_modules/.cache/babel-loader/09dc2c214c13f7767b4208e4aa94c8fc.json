{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rober\\\\dev\\\\artifice\\\\client\\\\src\\\\components\\\\demonChat.jsx\";\nimport React, { Component } from 'react';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass DemonChat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chatInput: '',\n      msgError: ''\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleChatMessage = this.handleChatMessage.bind(this);\n  }\n  handleChatMessage(_demonChatMessage) {\n    let message = this.state.chatInput.trim();\n\n    // check if message is empty\n    if (message === '') return;\n    _demonChatMessage(this.state.chatInput);\n    this.setState({\n      chatInput: ''\n    });\n  }\n  handleInputChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: target.value\n    });\n  }\n  render() {\n    useEffect(() => {\n      const keyDownHandler = event => {\n        if (event.key === 'Enter') {\n          event.preventDefault();\n          this.handleChatMessage(this.props.demonChatMessage);\n        }\n      };\n      document.addEventListener('keydown', keyDownHandler);\n      return () => {\n        document.removeEventListener('keydown', keyDownHandler);\n      };\n    });\n    const chatMsgs = this.props.demonChatMsgs.map((data, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"demonChatMsg\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"chatUser\",\n        children: [data.username, \": \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), data.message]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"demonChat\",\n      style: {\n        visibility: this.props.visible,\n        height: this.props.height\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: chatMsgs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"demonChatSend\",\n        children: [this.props.phase === 'night' ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"chatInput\",\n          value: this.state.chatInput,\n          onChange: this.handleInputChange,\n          autoComplete: \"off\",\n          className: \"demonChatInput\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 53\n        }, this) : '', this.props.phase === 'night' ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"demonChatSubmit\",\n          id: \"demonMsg\",\n          onClick: () => this.handleChatMessage(this.props.demonChatMessage),\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 53\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default DemonChat;","map":{"version":3,"names":["React","Component","useEffect","DemonChat","constructor","props","state","chatInput","msgError","handleInputChange","bind","handleChatMessage","_demonChatMessage","message","trim","setState","event","target","name","value","render","keyDownHandler","key","preventDefault","demonChatMessage","document","addEventListener","removeEventListener","chatMsgs","demonChatMsgs","map","data","i","username","visibility","visible","height","phase"],"sources":["C:/Users/rober/dev/artifice/client/src/components/demonChat.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nclass DemonChat extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            chatInput: '',\r\n            msgError: '',\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleChatMessage = this.handleChatMessage.bind(this);\r\n    }\r\n\r\n    handleChatMessage(_demonChatMessage) {\r\n        let message = this.state.chatInput.trim();\r\n\r\n        // check if message is empty\r\n        if(message === '') return;\r\n\r\n        _demonChatMessage(this.state.chatInput);\r\n        this.setState({\r\n            chatInput: ''\r\n        })\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const name = target.name;\r\n        this.setState({\r\n            [name]: target.value,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        useEffect(() => {\r\n            const keyDownHandler = event => {\r\n          \r\n                if (event.key === 'Enter') {\r\n                    event.preventDefault();\r\n                    this.handleChatMessage(this.props.demonChatMessage)\r\n                }\r\n            };\r\n          \r\n            document.addEventListener('keydown', keyDownHandler);\r\n          \r\n            return () => {\r\n                document.removeEventListener('keydown', keyDownHandler);\r\n            };\r\n        });\r\n        \r\n        const chatMsgs = this.props.demonChatMsgs.map((data, i) =>\r\n            <div key={i} className='demonChatMsg'>\r\n                <span className='chatUser'>{data.username}: </span>{data.message}\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <div \r\n                className='demonChat' \r\n                style={{\r\n                    visibility: this.props.visible,\r\n                    height: this.props.height,\r\n                }}>\r\n                <div>\r\n                    {chatMsgs}\r\n                </div>\r\n                <div className='demonChatSend'>\r\n                    {this.props.phase === 'night' ? <input\r\n                        type='text' \r\n                        name=\"chatInput\"\r\n                        value={this.state.chatInput} \r\n                        onChange={this.handleInputChange}\r\n                        autoComplete=\"off\"\r\n                        className='demonChatInput'\r\n                    /> : '' }\r\n                    {this.props.phase === 'night' ? <button \r\n                                                        className='demonChatSubmit' \r\n                                                        id='demonMsg'\r\n                                                        onClick={() => this.handleChatMessage(this.props.demonChatMessage)}>Send</button> : ''}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DemonChat;"],"mappings":"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"},"metadata":{},"sourceType":"module"}